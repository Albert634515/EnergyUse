<Window x:Class="WpfUI.Views.Windows.VatTariffsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:WpfUI.ViewModels"
        mc:Ignorable="d"
        Title="VAT Tariffs"
        Width="950" Height="650">

    <DockPanel>

        <!-- Toolbar -->
        <ToolBar DockPanel.Dock="Top" Height="40">

            <Button Command="{Binding AddCommand}" ToolTip="Add">
                <Image Source="/Resources/add_24x24.png"/>
            </Button>

            <Button Command="{Binding SaveCommand}" ToolTip="Save">
                <Image Source="/Resources/save_24x24.png"/>
            </Button>

            <Button Command="{Binding CancelCommand}" ToolTip="Cancel">
                <Image Source="/Resources/clear_24x24.png"/>
            </Button>

            <Button Command="{Binding DeleteCommand}" ToolTip="Delete">
                <Image Source="/Resources/delete_24x24.png"/>
            </Button>

            <Button Command="{Binding RefreshCommand}" ToolTip="Refresh">
                <Image Source="/Resources/clock_24x24.png"/>
            </Button>

            <Separator/>

            <Button Command="{Binding CloseCommand}" ToolTip="Close">
                <Image Source="/Resources/crossed_24x24.png"/>
            </Button>

        </ToolBar>

        <!-- Filters -->
        <StackPanel Orientation="Horizontal" Margin="10" DockPanel.Dock="Top">

            <StackPanel Margin="0 0 30 0">
                <TextBlock Text="Energy Type" Margin="0 0 0 5"/>
                <ComboBox ItemsSource="{Binding EnergyTypes}"
                          SelectedItem="{Binding SelectedEnergyType}"
                          DisplayMemberPath="Name"
                          Width="200"/>
            </StackPanel>

            <StackPanel>
                <TextBlock Text="Cost Category" Margin="0 0 0 5"/>
                <ComboBox ItemsSource="{Binding CostCategories}"
                          SelectedItem="{Binding SelectedCostCategory}"
                          DisplayMemberPath="Name"
                          Width="200"/>
            </StackPanel>

        </StackPanel>

        <!-- Main Layout -->
        <Grid Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- DataGrid -->
            <DataGrid Grid.Column="0"
                      ItemsSource="{Binding VatTariffs}"
                      SelectedItem="{Binding SelectedVatTariff}"
                      AutoGenerateColumns="False"
                      IsReadOnly="False"
                      Margin="0 0 10 0">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Id"
                                        Binding="{Binding Id}"
                                        Width="60"/>

                    <DataGridTextColumn Header="Start Date"
                                        Binding="{Binding StartDate, StringFormat=dd/MM/yyyy}"
                                        Width="120"/>

                    <DataGridTextColumn Header="End Date"
                                        Binding="{Binding EndDate, StringFormat=dd/MM/yyyy}"
                                        Width="120"/>

                    <DataGridTextColumn Header="Tarif"
                                        Binding="{Binding Tarif, StringFormat=N2}"
                                        Width="120"/>
                </DataGrid.Columns>

            </DataGrid>

            <!-- Edit Panel -->
            <GroupBox Header="Tariff Details"
                      Grid.Column="1"
                      Padding="10">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="Start Date" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                    <DatePicker SelectedDate="{Binding SelectedVatTariff.StartDate}"
                                Grid.Row="0" Grid.Column="1"/>

                    <TextBlock Text="End Date" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"/>
                    <DatePicker SelectedDate="{Binding SelectedVatTariff.EndDate}"
                                Grid.Row="1" Grid.Column="1"/>

                    <TextBlock Text="Tarif" Grid.Row="2" Grid.Column="0" VerticalAlignment="Center"/>
                    <TextBox Text="{Binding SelectedVatTariff.Tarif}"
                             Grid.Row="2" Grid.Column="1"/>
                </Grid>

            </GroupBox>

        </Grid>

    </DockPanel>

</Window>