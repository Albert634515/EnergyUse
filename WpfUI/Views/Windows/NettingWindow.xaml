<Window x:Class="WpfUI.Views.Windows.NettingWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Netting"
        Width="1100"
        Height="650"
        WindowStartupLocation="CenterOwner">

    <DockPanel>

        <!-- TOOLBAR -->
        <ToolBar DockPanel.Dock="Top">
            <Button Command="{Binding AddCommand}">
                <Image Source="/Resources/add_24x24.png" Width="20"/>
            </Button>
            <Button Command="{Binding SaveCommand}">
                <Image Source="/Resources/tick-mark_24x24.png" Width="20"/>
            </Button>
            <Button Command="{Binding CancelCommand}">
                <Image Source="/Resources/clear_24x24.png" Width="20"/>
            </Button>
            <Button Command="{Binding DeleteCommand}">
                <Image Source="/Resources/delete_24x24.png" Width="20"/>
            </Button>
            <Button Command="{Binding RefreshCommand}">
                <Image Source="/Resources/clock_24x24.png" Width="20"/>
            </Button>

            <Separator/>

            <Button Command="{Binding CloseCommand}">
                <Image Source="/Resources/crossed_24x24.png" Width="20"/>
            </Button>
        </ToolBar>

        <!-- MAIN CONTENT -->
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- EnergyType filter -->
                <RowDefinition Height="*"/>
                <!-- Grid + details -->
            </Grid.RowDefinitions>

            <!-- ENERGYTYPE FILTER -->
            <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
                <TextBlock Text="Energy type:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox Width="200"
                          ItemsSource="{Binding EnergyTypes}"
                          DisplayMemberPath="Name"
                          SelectedValuePath="Id"
                          SelectedValue="{Binding SelectedEnergyTypeId, Mode=TwoWay}"/>
            </StackPanel>

            <!-- GRID + DETAILS -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*"/>
                    <ColumnDefinition Width="2*"/>
                </Grid.ColumnDefinitions>

                <!-- DATAGRID -->
                <DataGrid Grid.Column="0"
                          ItemsSource="{Binding Nettings}"
                          SelectedItem="{Binding SelectedNetting, Mode=TwoWay}"
                          AutoGenerateColumns="False"
                          Margin="0,0,10,0">

                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Start" Binding="{Binding StartDate}" Width="120"/>
                        <DataGridTextColumn Header="End" Binding="{Binding EndDate}" Width="120"/>
                        <DataGridTextColumn Header="Rate" Binding="{Binding Rate}" Width="120"/>
                        <DataGridTextColumn Header="Energy Type" Binding="{Binding EnergyTypeName}" Width="150"/>
                        <DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>

                <!-- DETAILS -->
                <GroupBox Grid.Column="1" Header="Netting details">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Start Date -->
                        <TextBlock Text="Start date" Grid.Row="0" Grid.Column="0"/>
                        <DatePicker Grid.Row="0" Grid.Column="1" Margin="5"
                                    SelectedDate="{Binding SelectedNetting.StartDate, Mode=TwoWay}"/>

                        <!-- End Date -->
                        <TextBlock Text="End date" Grid.Row="1" Grid.Column="0"/>
                        <DatePicker Grid.Row="1" Grid.Column="1" Margin="5"
                                    SelectedDate="{Binding SelectedNetting.EndDate, Mode=TwoWay}"/>

                        <!-- Rate -->
                        <TextBlock Text="Rate" Grid.Row="2" Grid.Column="0"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Margin="5"
                                 Text="{Binding SelectedNetting.Rate, Mode=TwoWay}"/>
                    </Grid>
                </GroupBox>

            </Grid>
        </Grid>
    </DockPanel>
</Window>