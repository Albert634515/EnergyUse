<UserControl x:Class="WpfUI.Views.Controls.ChartCompareLiveChartsControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
             xmlns:conv="clr-namespace:WpfUI.Converters"
             xmlns:vm="clr-namespace:WpfUI.ViewModels"
             mc:Ignorable="d">

    <UserControl.Resources>
        <conv:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </UserControl.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- LABELS -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0 0 0 10">
            <Border Background="{Binding ConsumptionLabel.BackColor}"
                    Padding="5"
                    Margin="0 0 20 0"
                    Visibility="{Binding ConsumptionLabel.Visible, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="{Binding ConsumptionLabel.Text}"
                           Foreground="{Binding ConsumptionLabel.ForeColor}"/>
            </Border>

            <Border Background="{Binding ProductionLabel.BackColor}"
                    Padding="5"
                    Margin="0 0 20 0"
                    Visibility="{Binding ProductionLabel.Visible, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="{Binding ProductionLabel.Text}"
                           Foreground="{Binding ProductionLabel.ForeColor}"/>
            </Border>

            <Border Background="{Binding NettoLabel.BackColor}"
                    Padding="5"
                    Visibility="{Binding NettoLabel.Visible, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="{Binding NettoLabel.Text}"
                           Foreground="{Binding NettoLabel.ForeColor}"/>
            </Border>
        </StackPanel>

        <!-- PERIOD + YEAR SELECTION -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0 0 0 10">

            <StackPanel Margin="0 0 20 0">
                <TextBlock Text="Period type"/>
                <ComboBox ItemsSource="{Binding PeriodTypes}"
                          SelectedItem="{Binding SelectedPeriodType}"
                          DisplayMemberPath="Description"
                          Width="120"/>
            </StackPanel>

            <StackPanel Margin="0 0 20 0">
                <TextBlock Text="Start year"/>
                <ComboBox ItemsSource="{Binding Years}"
                          SelectedItem="{Binding StartYear}"
                          Width="80"/>
            </StackPanel>

            <StackPanel Margin="0 0 20 0">
                <TextBlock Text="End year"/>
                <ComboBox ItemsSource="{Binding Years}"
                          SelectedItem="{Binding EndYear}"
                          Width="80"/>
            </StackPanel>

            <StackPanel Margin="0 0 20 0">
                <TextBlock Text="{Binding NumberLabel}"/>
                <ComboBox ItemsSource="{Binding NumberList}"
                          SelectedItem="{Binding SelectedNumber}"
                          Width="80"/>
            </StackPanel>

            <StackPanel Visibility="{Binding IsDayVisible, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="Day"/>
                <ComboBox ItemsSource="{Binding DayList}"
                          SelectedItem="{Binding SelectedDay}"
                          Width="80"/>
            </StackPanel>

        </StackPanel>

        <!-- RADIOBUTTONS + CHECKBOXES -->
        <StackPanel Orientation="Horizontal" Grid.Row="2" Margin="0 0 0 10">

            <StackPanel Margin="0 0 40 0">
                <TextBlock Text="Show by"/>
                <RadioButton Content="Category" IsChecked="{Binding ShowByCategory}"/>
                <RadioButton Content="Subcategory" IsChecked="{Binding ShowBySubCategory}"/>
                <RadioButton Content="Total" IsChecked="{Binding ShowByTotal}"/>
            </StackPanel>

            <StackPanel Margin="0 0 40 0">
                <TextBlock Text="Type"/>
                <RadioButton Content="Rate" IsChecked="{Binding ShowTypeRate}"/>
                <RadioButton Content="Value" IsChecked="{Binding ShowTypeValue}"/>
                <RadioButton Content="Efficiency"
                             IsChecked="{Binding ShowTypeEfficiency}"
                             Visibility="{Binding IsEfficiencyVisible, Converter={StaticResource BoolToVisibilityConverter}}"/>
            </StackPanel>

            <StackPanel Margin="0 0 40 0">
                <CheckBox Content="Predict missing data"
                          IsChecked="{Binding PredictMissingData}"/>
                <CheckBox Content="Show stacked"
                          IsChecked="{Binding ShowStacked}"/>
            </StackPanel>

            <StackPanel>
                <Button Content="Reset" Command="{Binding ResetCommand}" Width="80" Margin="0 0 0 5"/>
                <Button Content="Export" Command="{Binding ExportCommand}" Width="80"/>
            </StackPanel>

        </StackPanel>

        <!-- CHART -->
        <lvc:CartesianChart Grid.Row="3"
                            Series="{Binding ChartSeries}"
                            XAxes="{Binding XAxes}"
                            YAxes="{Binding YAxes}"/>
    </Grid>
</UserControl>